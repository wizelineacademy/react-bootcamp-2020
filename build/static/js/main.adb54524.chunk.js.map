{"version":3,"sources":["reducer/reducer.js","context/context.js","context/userContext.js","utils/constants.js","utils/storage.js","providers/Auth/Auth.provider.jsx","components/Icon/Icon.component.jsx","utils/hooks/useDarkMode.js","components/CheckboxToggle/Checkboxtoggle.component.jsx","components/SearchBox/SearchBox.component.jsx","components/User/User.component.jsx","components/Header/Header.component.jsx","components/VideoCard/VideoCard.component.jsx","components/RelatedCard/RelatedCard.component.jsx","components/ListVideoCard/ListVideoCard.component.jsx","api/youtube.api.js","api/youtube.hook.js","pages/Home/Home.page.jsx","api/login.api.js","hooks/userUser.js","components/Modal/Modal.component.jsx","components/AddToFavorites/AddToFavorites.component.jsx","components/VideoDetail/VideoDetail.component.jsx","pages/VideoDetail/VideoDetail.page.jsx","pages/NotFound/NotFound.page.jsx","pages/Secret/Secret.page.jsx","pages/Favourites/Favourites.page.jsx","components/Private/Private.component.jsx","components/Layout/Layout.component.jsx","components/App/App.component.jsx","index.jsx"],"names":["reducer","state","action","type","status","videos","payload","currentVideo","searchQuery","error","favouriteVideos","initialState","VideoContext","createContext","useVideosContext","context","useContext","Error","VideoProvider","children","useReducer","dispatch","setVideos","useCallback","value","Provider","isActive","user","UserContext","UserProvider","useState","window","sessionStorage","getItem","jwt","setJWT","AUTH_STORAGE_KEY","storage","key","rawValue","localStorage","JSON","parse","console","setItem","stringify","AuthContext","React","AuthProvider","authenticated","setAuthenticated","useEffect","lastAuthState","isAuthenticated","Boolean","login","logout","Icon","iconName","className","xlinkHref","useDarkMode","mode","theme","setTheme","colorTheme","root","document","documentElement","classList","remove","add","Checkboxtoggle","darkMode","htmlFor","id","onClick","SearchBox","placeholder","history","useHistory","term","searchField","setsearchField","onFormSubmit","event","a","preventDefault","push","onSubmit","onChange","e","target","trim","User","to","Header","toggleDrawer","VideoCard","title","description","thumbnail","video","path","useRouteMatch","encodeURI","src","alt","RelatedCard","onSelectedVideo","role","tabIndex","aria-hidden","ListVideoCard","relatedCard","map","etag","snippet","thumbnails","default","url","videoId","medium","axios","create","baseURL","params","part","maxResults","process","useVideoApi","cache","useRef","loading","setLoading","setError","onTermSubmit","current","youtube","get","q","data","items","HomePage","isOpen","sectionRef","log","lenght","ref","mockedUser","name","avatarUrl","username","Promise","resolve","reject","setTimeout","password","useUser","useUserContext","setState","loginApi","then","resp","catch","err","removeItem","isLogged","isLoginLoading","hasLoginError","Modal","onLogin","setUsername","setPassword","method","stopPropagation","goBack","AddToFavorites","videoInFavourites","includes","favouritesWithoutVideo","filter","favorite","find","VideoDetail","videoSrc","frameBorder","allow","VideoDetailPage","isFavourite","favourites","videoCurrent","NotFoundPage","SecretPage","width","height","allowFullScreen","FavouritesPage","Private","rest","useAuth","render","Layout","App","location","useLocation","background","setIsOpen","prevState","open","onClose","direction","match","exact","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.adb54524.chunk.js","sourcesContent":["export default function reducer(state, action) {\n  switch (action.type) {\n    case '@fetching':\n      return { ...state, status: 'fetching' };\n    case '@get/videos':\n      return {\n        ...state,\n        status: 'fetched',\n        videos: action.payload,\n      };\n    case '@set/current_video':\n      return {\n        ...state,\n        status: 'current_video',\n        currentVideo: action.payload,\n      };\n    case '@set/search_result':\n      return {\n        ...state,\n        status: 'search',\n        searchQuery: action.payload,\n      };\n    case '@error':\n      return {\n        ...state,\n        status: 'error',\n        error: action.payload,\n      };\n    case '@set/favourites_videos':\n      return {\n        ...state,\n        status: 'add_favourites',\n        favouriteVideos: [...state.favouriteVideos, action.payload],\n      };\n    case '@set/remove_favourites_videos':\n      return {\n        ...state,\n        status: 'remove_favourites_videos',\n        favouriteVideos: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import React, { createContext, useReducer, useCallback, useContext } from 'react';\n\nimport reducer from '../reducer/reducer';\n\nconst initialState = {\n  videos: [],\n  currentVideo: null,\n  searchQuery: 'Wizeline',\n  favouriteVideos: [],\n};\n\nconst VideoContext = createContext(null);\n\nfunction useVideosContext() {\n  const context = useContext(VideoContext);\n  if (!context) {\n    throw new Error(`Can't use \"useVideoContext\" without an VideosProvider!`);\n  }\n  return context;\n}\n\nconst VideoProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const setVideos = useCallback(\n    (videos) => {\n      dispatch({ type: '@get/videos', payload: videos });\n    },\n    [dispatch]\n  );\n  const value = { state, dispatch, setVideos };\n  return <VideoContext.Provider value={value}>{children}</VideoContext.Provider>;\n};\n\nexport { useVideosContext };\nexport default VideoProvider;\n","import React, { createContext, useContext, useState } from 'react';\n\nconst initialState = {\n  isActive: false,\n  user: null,\n};\n\nconst UserContext = createContext(initialState);\n\nfunction useUserContext() {\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error(`Can't use \"useUserContext\" without an UserProvider!`);\n  }\n  return context;\n}\n\nconst UserProvider = ({ children }) => {\n  const [jwt, setJWT] = useState(() => window.sessionStorage.getItem('jwt'));\n\n  return (\n    <UserContext.Provider\n      value={{\n        jwt,\n        setJWT,\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport { useUserContext };\nexport default UserProvider;\n","const AUTH_STORAGE_KEY = 'wa_cert_authenticated';\n\nexport { AUTH_STORAGE_KEY };\n","const storage = {\n  get(key) {\n    try {\n      const rawValue = window.localStorage.getItem(key);\n      return JSON.parse(rawValue);\n    } catch (error) {\n      console.error(`Error parsing storage item \"${key}\".`);\n      return null;\n    }\n  },\n\n  set(key, value) {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  },\n};\n\nexport { storage };\n","import React, { useState, useEffect, useContext, useCallback } from 'react';\n\nimport { AUTH_STORAGE_KEY } from '../../utils/constants';\nimport { storage } from '../../utils/storage';\n\nconst AuthContext = React.createContext(null);\n\nfunction useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(`Can't use \"useAuth\" without an AuthProvider!`);\n  }\n  return context;\n}\n\nfunction AuthProvider({ children }) {\n  const [authenticated, setAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const lastAuthState = storage.get(AUTH_STORAGE_KEY);\n    const isAuthenticated = Boolean(lastAuthState);\n\n    setAuthenticated(isAuthenticated);\n  }, []);\n\n  const login = useCallback(() => {\n    setAuthenticated(true);\n    storage.set(AUTH_STORAGE_KEY, true);\n  }, []);\n\n  const logout = useCallback(() => {\n    setAuthenticated(false);\n    storage.set(AUTH_STORAGE_KEY, false);\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ login, logout, authenticated }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport { useAuth };\nexport default AuthProvider;\n","import React from 'react';\n\nconst Icon = ({ iconName, className }) => {\n  return (\n    <svg className={className}>\n      <use xlinkHref={`./sprite.svg#icon-${iconName}`} />\n    </svg>\n  );\n};\n\nexport default Icon;\n","import { useEffect, useState } from 'react';\n\nconst useDarkMode = (mode) => {\n  const [theme, setTheme] = useState(mode);\n  const colorTheme = theme === 'light' ? 'dark' : 'light';\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n    root.classList.remove(colorTheme);\n    root.classList.add(theme);\n  }, [theme, colorTheme]);\n  return [colorTheme, setTheme];\n};\n\nexport default useDarkMode;\n","import React from 'react';\n\nimport useDarkMode from '../../utils/hooks/useDarkMode';\n\nimport './Checkboxtoggle.styles.css';\n\nconst Checkboxtoggle = ({ mode }) => {\n  const [colorTheme, setTheme] = useDarkMode(mode);\n  const darkMode = colorTheme === 'light' ? 'Dark Mode' : 'Light Mode';\n\n  return (\n    <>\n      <div className=\"hidden md:block\">\n        <label htmlFor=\"toggle\" className=\"flex items-center cursor-pointer\">\n          <div className=\"relative\">\n            <input\n              id=\"toggle\"\n              type=\"checkbox\"\n              className=\"hidden\"\n              onClick={() => setTheme(colorTheme)}\n            />\n            <div className=\"toggle__line w-8 h-4 bg-gray-400 rounded-full shadow-inner\" />\n            <div className=\"toggle__dot absolute w-4 h-4 bg-white rounded-full shadow inset-y-0 left-0\" />\n          </div>\n          <div className=\"ml-3 text-white text-normal\">{darkMode}</div>\n        </label>\n      </div>\n    </>\n  );\n};\n\nexport default Checkboxtoggle;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { useVideosContext } from '../../context/context';\nimport Icon from '../Icon/index';\n\nconst SearchBox = ({ placeholder }) => {\n  const { dispatch } = useVideosContext();\n  const history = useHistory();\n\n  const [searchField, setsearchField] = useState({\n    term: 'Wizeline',\n  });\n\n  const handleChange = (e) => {\n    setsearchField({\n      term: e.target.value.trim(),\n    });\n  };\n\n  const onFormSubmit = async (event) => {\n    event.preventDefault();\n    dispatch({ type: '@set/search_result', payload: searchField.term });\n    dispatch({ type: '@get/videos', payload: [] });\n    dispatch({ type: '@set/current_video', payload: null });\n    history.push('/');\n  };\n\n  return (\n    <>\n      <div className=\"relative\">\n        <form onSubmit={onFormSubmit}>\n          <span className=\"absolute inset-y-0 left-0 flex items-center pl-0.5\">\n            <button type=\"submit\" className=\"p-0 bg-blue-200 dark:bg-blue-100\">\n              <Icon iconName=\"search\" className=\"fill-current text-white w-6 h-6 pt-1\" />\n            </button>\n          </span>\n          <input\n            type=\"text\"\n            onChange={handleChange}\n            placeholder={placeholder}\n            className=\"focus:outline-none pl-8 rounded-lg shadow-lg p-0.5 bg-blue-200 dark:bg-blue-100 text-white\"\n          />\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default SearchBox;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Icon from '../Icon/Icon.component';\n\nconst User = () => {\n  return (\n    <Link to=\"/login\">\n      <Icon\n        iconName=\"user\"\n        className=\"fill-current dark:border-gray-800 dark:text-gray-800 text-gray-400 h-10 w-10 rounded-full border-2 border-gray-400\"\n      />\n    </Link>\n  );\n};\n\nexport default User;\n","import React from 'react';\nimport Icon from '../Icon/index';\nimport Checkboxtoggle from '../CheckboxToggle/index';\nimport SearchBox from '../SearchBox/index';\nimport User from '../User/index';\n\nconst Header = ({ placeholder, mode, toggleDrawer }) => {\n  return (\n    <nav className=\"flex items-center flex-wrap bg-blue-900 shadow-lg dark:bg-blue-800\">\n      <button\n        onClick={() => toggleDrawer()}\n        type=\"button\"\n        className=\"focus:outline-none flex-initial text-center px-4 m-2 bg-transparent\"\n      >\n        <Icon iconName=\"menu\" className=\"fill-current text-white h-6 w-6 mr-2\" />\n      </button>\n      <div className=\"flex-1 text-left sm:px-2 md:px-4 md:m-2\">\n        <SearchBox placeholder={placeholder} />\n      </div>\n      <div className=\"flex-initial text-right px-4 m-2\">\n        <Checkboxtoggle mode={mode} />\n      </div>\n      <div className=\"flex-initial text-right px-4 m-2 hidden md:block\">\n        <User />\n      </div>\n    </nav>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { useRouteMatch, Link } from 'react-router-dom';\nimport { useVideosContext } from '../../context/context';\n\nconst VideoCard = ({ id, title, description, thumbnail, video }) => {\n  const { dispatch } = useVideosContext();\n\n  const onSelectedVideo = () => {\n    dispatch({ type: '@set/current_video', payload: video });\n  };\n\n  const { path } = useRouteMatch();\n\n  return (\n    <div className=\"my-1 px-1 w-full md:w-1/3 lg:my-4 lg:px-4 lg:w-1/4 xl:w-1/5 2xl:w-1/6 cursor-pointer sm:px-4 sm:my-4\">\n      <Link to={`${path}video/${encodeURI(id)}`} onClick={() => onSelectedVideo(video)}>\n        <article className=\"overflow-hidden w-full h-full rounded-lg shadow-lg text-justify dark:border-gray-600 dark:bg-gray-600\">\n          <img className=\"block h-auto w-full\" src={thumbnail} alt={title} />\n          <header className=\"flex items-center justify-between leading-tight pl-4 pr-4 pt-2\">\n            <h1 className=\"text-base\">{title}</h1>\n          </header>\n          <section className=\"p-4\">\n            <p className=\"text-xs font-hairline dark:text-gray-300 text-gray-500\">\n              {description}\n            </p>\n          </section>\n        </article>\n      </Link>\n    </div>\n  );\n};\n\nexport default VideoCard;\n","import React from 'react';\nimport parse from 'html-react-parser';\n\nconst RelatedCard = ({ id, title, thumbnail, video, onSelectedVideo }) => {\n  return (\n    <div\n      className=\"col-start-7 col-end-8 cursor-pointer mt-0.5 focus:outline-none\"\n      onClick={() => onSelectedVideo(video)}\n      role=\"button\"\n      tabIndex=\"0\"\n      aria-hidden=\"true\"\n      key={id}\n    >\n      <article className=\"grid sm:grid-cols-1 md:grid-cols-4 dark:bg-gray-600\">\n        <div className=\"md:w-full md:h-auto sm:w-full rounded-t lg:rounded-t-none lg:rounded-l dark:border-0 dark:border-transparent text-center overflow-hidden bg-local border-t border-b lg:border-gray-400\">\n          <img\n            className=\"block h-full w-full flex-none bg-cover text-center overflow-hidden\"\n            src={thumbnail}\n            alt={parse(title)}\n          />\n        </div>\n        <div className=\"h-auto hidden sm:block col-start-2 col-span-5 w-full dark:border-0 border-r border-b border-l dark:border-transparent dark:bg-gray-600 border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:p-2 md:p-.5 flex-col justify-between leading-normal\">\n          <div className=\"mb-2\">\n            <div className=\"text-gray-500 lg:text-xs xl:text-base dark:text-white\">\n              {parse(title)}\n            </div>\n          </div>\n        </div>\n      </article>\n    </div>\n  );\n};\n\nexport default RelatedCard;\n","import React from 'react';\nimport parse from 'html-react-parser';\n\nimport VideoCard from '../VideoCard';\nimport RelatedCard from '../RelatedCard';\n\nconst ListVideoCard = ({ relatedCard, onSelectedVideo, videos }) => {\n  return (\n    <>\n      {relatedCard ? (\n        <div className=\"col-start-6 col-end-8\">\n          {videos.map((video) => (\n            <RelatedCard\n              id={video.etag}\n              key={video.etag}\n              title={parse(video.snippet.title)}\n              thumbnail={video.snippet.thumbnails.default.url}\n              video={video}\n              onSelectedVideo={onSelectedVideo}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"container my-12 mx-auto px-4 md:px-12\">\n          <div className=\"flex flex-wrap -mx-1 lg:-mx-4\">\n            {videos.map((video) => (\n              <VideoCard\n                id={video.id.videoId}\n                key={video.etag}\n                title={parse(video.snippet.title)}\n                description={parse(video.snippet.description)}\n                thumbnail={video.snippet.thumbnails.medium.url}\n                video={video}\n                onSelectedVideo={onSelectedVideo}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ListVideoCard;\n","import axios from 'axios';\n\nconst baseURL = 'https://www.googleapis.com/youtube/v3';\nconst { REACT_APP_KEY_YOUTUBE } = process.env;\n\nexport default axios.create({\n  baseURL,\n  params: {\n    part: 'snippet',\n    type: 'video',\n    maxResults: 25,\n    key: `${REACT_APP_KEY_YOUTUBE}`,\n  },\n});\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport youtube from './youtube.api';\n\nimport { useVideosContext } from '../context/context';\n\nconst useVideoApi = (searchQuery) => {\n  const cache = useRef({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { state, setVideos } = useVideosContext();\n\n  const onTermSubmit = useCallback(async () => {\n    setLoading(true);\n    if (cache.current[searchQuery]) {\n      setVideos(cache.current[searchQuery]);\n    } else {\n      try {\n        const { data } = await youtube.get('/search', {\n          params: {\n            q: searchQuery,\n          },\n        });\n        cache.current[searchQuery] = data.items;\n        setVideos(data.items);\n      } catch (err) {\n        setError(err);\n      }\n    }\n    setLoading(false);\n  }, [setVideos, searchQuery]);\n\n  useEffect(() => {\n    onTermSubmit();\n  }, [onTermSubmit]);\n\n  return [state, loading, error];\n};\n\nexport default useVideoApi;\n","import React, { useRef } from 'react';\n// import { Link, useHistory } from 'react-router-dom';\n\nimport Header from '../../components/Header/index';\nimport ListVideoCard from '../../components/ListVideoCard/index';\n\n// import { useAuth } from '../../providers/Auth';\nimport useVideoApi from '../../api/youtube.hook';\n\nimport { useVideosContext } from '../../context/context';\n\nfunction HomePage({ toggleDrawer, isOpen }) {\n  // const history = useHistory();\n  const sectionRef = useRef(null);\n  /*\n  const { logout } = useAuth();\n  function deAuthenticate(event) {\n    event.preventDefault();\n    logout();\n    history.push('/');\n  }\n  */\n\n  const { state, dispatch } = useVideosContext();\n  const { loading, error } = useVideoApi(state.searchQuery);\n  const { videos } = state;\n  console.log(loading, error);\n  if (videos.lenght <= 0) {\n    return <div>Loading...</div>;\n  }\n\n  const onSelectedVideo = (video) => {\n    dispatch({ type: '@set/current_video', payload: video });\n  };\n\n  return (\n    <section ref={sectionRef}>\n      <Header\n        toggleDrawer={toggleDrawer}\n        isOpen={isOpen}\n        placeholder=\"Search...\"\n        mode=\"light\"\n      />\n      <section>\n        <ListVideoCard onSelectedVideo={onSelectedVideo} videos={videos} />\n      </section>\n    </section>\n  );\n}\n\nexport default HomePage;\n","const mockedUser = {\n  id: '123',\n  name: 'Wizeline',\n  avatarUrl:\n    'https://media.glassdoor.com/sqll/868055/wizeline-squarelogo-1473976610815.png',\n};\n\nexport default async function loginApi(username) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (username.username === 'wizeline' && username.password === 'Rocks!') {\n        return resolve(mockedUser);\n      }\n      return reject(new Error('Username or password invalid'));\n    }, 500);\n  });\n}\n","import { useCallback, useState } from 'react';\nimport { useUserContext } from '../context/userContext';\nimport loginApi from '../api/login.api';\n\nexport default function useUser() {\n  const { jwt, setJWT } = useUserContext();\n  const [state, setState] = useState({ loading: false, error: false });\n\n  const login = useCallback(\n    ({ username, password }) => {\n      setState({ loading: true, error: false });\n      loginApi({ username, password })\n        .then((resp) => {\n          window.sessionStorage.setItem('jwt', resp);\n          setState({ loading: false, error: false });\n          setJWT(resp);\n        })\n        .catch((err) => {\n          window.sessionStorage.removeItem('jwt');\n          setState({ loading: false, error: true });\n          console.error(err);\n        });\n    },\n    [setJWT]\n  );\n\n  const logout = useCallback(() => {\n    window.sessionStorage.removeItem('jwt');\n    setJWT(null);\n  }, [setJWT]);\n\n  return {\n    isLogged: Boolean(jwt),\n    isLoginLoading: state.loading,\n    hasLoginError: state.error,\n    login,\n    logout,\n  };\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useUser from '../../hooks/userUser';\n\n// import { useAuth } from '../../providers/Auth';\n\nconst Modal = ({ onLogin }) => {\n  const history = useHistory();\n\n  const goBack = (event) => {\n    event.stopPropagation();\n    history.goBack();\n  };\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const { isLoginLoading, hasLoginError, login, isLogged } = useUser();\n\n  useEffect(() => {\n    if (isLogged) {\n      history.push('/');\n    }\n  }, [isLogged, history, onLogin]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login({ username, password });\n  };\n\n  return (\n    <div className=\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\">\n      {isLoginLoading && (\n        <strong className=\"text-red-500 text-sm\">Checking credentials...</strong>\n      )}\n      {!isLoginLoading && (\n        <section>\n          <div className=\"flex items-center h-screen w-full bg-teal-lighter\">\n            <div className=\"w-full bg-white rounded shadow-lg p-8 m-4 md:max-w-sm md:mx-auto\">\n              <h1 className=\"block w-full text-center text-red-500 mb-6\">\n                {hasLoginError && <strong>Credentials are invalid</strong>}\n              </h1>\n              <form\n                className=\"mb-4 md:flex md:flex-wrap md:justify-between\"\n                onSubmit={handleSubmit}\n                method=\"post\"\n              >\n                <div className=\"flex flex-col mb-4 md:w-full\">\n                  <label\n                    className=\"mb-2 uppercase font-bold text-lg text-grey-darkest\"\n                    htmlFor=\"username\"\n                  >\n                    Email\n                  </label>\n                  <input\n                    className=\"border py-2 px-3 text-grey-darkest\"\n                    type=\"text\"\n                    name=\"username\"\n                    onChange={(e) => setUsername(e.target.value)}\n                    id=\"username\"\n                  />\n                </div>\n                <div className=\"flex flex-col mb-6 md:w-full\">\n                  <label\n                    className=\"mb-2 uppercase font-bold text-lg text-grey-darkest\"\n                    htmlFor=\"password\"\n                  >\n                    Password\n                  </label>\n                  <input\n                    className=\"border py-2 px-3 text-grey-darkest\"\n                    type=\"password\"\n                    name=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    id=\"password\"\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 mx-auto gap-.5\">\n                  <div>\n                    <button\n                      className=\"block shadow-lg bg-green-400 hover:bg-green-500 text-white uppercase text-lg px-8 py-2 rounded\"\n                      type=\"submit\"\n                    >\n                      Login\n                    </button>\n                  </div>\n                  <div>\n                    <button\n                      className=\"block shadow-lg bg-red-400 hover:bg-red-500 text-white uppercase text-lg px-10 py-2 rounded\"\n                      type=\"button\"\n                      onClick={goBack}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </section>\n      )}\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\n\nimport { useVideosContext } from '../../context/context';\n\nconst AddToFavorites = ({ video }) => {\n  const { state, dispatch } = useVideosContext();\n  const { favouriteVideos } = state;\n\n  const favourites = () => {\n    const videoInFavourites = favouriteVideos.includes(video);\n    dispatch({ type: '@set/favourites_videos', payload: video });\n    // localStorage.setItem('favouriteVideos', JSON.stringify(favouriteVideos));\n    if (videoInFavourites) {\n      const favouritesWithoutVideo = favouriteVideos.filter(\n        (favorite) => favorite.id.videoId !== video.id.videoId\n      );\n      dispatch({\n        type: '@set/remove_favourites_videos',\n        payload: favouritesWithoutVideo,\n      });\n      // localStorage.setItem('favouriteVideos', JSON.stringify(favouriteVideos));\n    }\n  };\n\n  return (\n    <button\n      className=\"block shadow-lg md:text-xs focus:outline-none bg-green-400 hover:bg-green-500 dark:bg-red-400 dark:hover:bg-red-500 text-white uppercase lg:text-lg mx-auto px-4 py-1 rounded\"\n      type=\"button\"\n      onClick={favourites}\n    >\n      {favouriteVideos.find((favorite) => favorite.id.videoId === video.id.videoId)\n        ? 'Remove from favorites'\n        : 'Add to Favorites'}\n    </button>\n  );\n};\n\nexport default AddToFavorites;\n","import React from 'react';\nimport AddToFavorites from '../AddToFavorites/index';\n\nconst VideoDetail = ({ video, isLogged }) => {\n  if (!video) {\n    return <div>Loading...</div>;\n  }\n\n  const { id, snippet } = video;\n\n  const videoSrc = `https://www.youtube.com/embed/${id.videoId}`;\n\n  return (\n    <div className=\"col-start-1 col-end-6 mx-0.5 mt-0.5\">\n      <div className=\"aspect-w-16 aspect-h-9\">\n        <iframe\n          src={videoSrc}\n          title={snippet.title}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        />\n      </div>\n      <div className=\"grid sm:grid-cols-1 md:grid-flow-col md:grid-cols-3 gap-4\">\n        <div className=\"md:col-span-2\">\n          <h4 className=\"ml-2 m-4 text-lg\">{snippet.title}</h4>\n        </div>\n        <div className=\"md:mt-2 sm:px-8 sm:mx-auto\">\n          {isLogged && <AddToFavorites video={video} />}\n        </div>\n      </div>\n      <p className=\"ml-2 m-4 text-sm font-hairline text-gray-500\">\n        {snippet.description}\n      </p>\n    </div>\n  );\n};\n\nexport default VideoDetail;\n","import React, { useRef } from 'react';\n// import { useParams } from 'react-router-dom';\n\nimport Header from '../../components/Header/index';\nimport ListVideoCard from '../../components/ListVideoCard/index';\nimport VideoDetail from '../../components/VideoDetail/index';\n\nimport useVideoApi from '../../api/youtube.hook';\n\nimport { useVideosContext } from '../../context/context';\nimport useUser from '../../hooks/userUser';\n\nfunction VideoDetailPage({ toggleDrawer, isOpen, isFavourite }) {\n  const sectionRef = useRef(null);\n  // const { id } = useParams();\n  const { isLogged } = useUser();\n\n  const { state, dispatch } = useVideosContext();\n  useVideoApi(state.searchQuery);\n  const { videos, currentVideo } = state;\n  const favourites = JSON.parse(localStorage.getItem('favouriteVideos'));\n  let videoCurrent = currentVideo;\n  if (!currentVideo) {\n    videoCurrent = JSON.parse(localStorage.getItem('currentVideo'));\n  }\n\n  const onSelectedVideo = (video) => {\n    localStorage.setItem('currentVideo', JSON.stringify(video));\n    dispatch({ type: '@set/current_video', payload: video });\n  };\n\n  return (\n    <section ref={sectionRef}>\n      <Header\n        toggleDrawer={toggleDrawer}\n        isOpen={isOpen}\n        placeholder=\"Search...\"\n        mode=\"light\"\n      />\n      <section className=\"grid grid-cols-7\">\n        <VideoDetail video={videoCurrent} isLogged={isLogged} />\n        <ListVideoCard\n          onSelectedVideo={onSelectedVideo}\n          videos={isFavourite ? favourites : videos}\n          relatedCard={videoCurrent}\n        />\n      </section>\n    </section>\n  );\n}\n\nexport default VideoDetailPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './NotFound.styles.css';\n\nfunction NotFoundPage() {\n  return (\n    <section className=\"not-found\">\n      <Link to=\"/\" className=\"home-link\">\n        home\n      </Link>\n      <img src=\"404.gif\" alt=\"page not found\" />\n    </section>\n  );\n}\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction SecretPage() {\n  return (\n    <section>\n      <pre>\n        welcome, voyager...\n        <Link to=\"/\"> ← go back</Link>\n      </pre>\n      <iframe\n        width=\"800\"\n        height=\"450\"\n        allowFullScreen\n        frameBorder=\"0\"\n        title=\"rick roll\"\n        src=\"https://www.youtube.com/embed/dQw4w9WgXcQ?controls=0&autoplay=1\"\n        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n      />\n    </section>\n  );\n}\n\nexport default SecretPage;\n","import React, { useRef } from 'react';\n\nimport Header from '../../components/Header/index';\nimport ListVideoCard from '../../components/ListVideoCard/index';\n\nimport { useVideosContext } from '../../context/context';\n\nfunction FavouritesPage({ toggleDrawer, isOpen }) {\n  const sectionRef = useRef(null);\n\n  const { dispatch, state } = useVideosContext();\n  const { favouriteVideos } = state;\n  // const favourites = JSON.parse(localStorage.getItem('favouriteVideos'));\n  // console.log('videosFavourites', favouriteVideos, state);\n  const onSelectedVideo = (video) => {\n    dispatch({ type: '@set/current_video', payload: video });\n  };\n\n  return (\n    <section ref={sectionRef}>\n      <Header\n        toggleDrawer={toggleDrawer}\n        isOpen={isOpen}\n        placeholder=\"Search...\"\n        mode=\"light\"\n      />\n      <section>\n        <ListVideoCard onSelectedVideo={onSelectedVideo} videos={favouriteVideos} />\n      </section>\n    </section>\n  );\n}\n\nexport default FavouritesPage;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { useAuth } from '../../providers/Auth';\n\nfunction Private({ children, ...rest }) {\n  const { authenticated } = useAuth();\n\n  return (\n    <Route {...rest} render={() => (authenticated ? children : <Redirect to=\"/\" />)} />\n  );\n}\n\nexport default Private;\n","import React from 'react';\n\nfunction Layout({ children }) {\n  return (\n    <main className=\"bg-white dark:bg-gray-800 h-full dark:text-white\">{children}</main>\n  );\n}\n\nexport default Layout;\n","import React, { useState } from 'react';\nimport { Switch, Route, useLocation } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport Drawer from 'react-modern-drawer';\n\nimport VideoProvider from '../../context/context';\nimport UserProvider from '../../context/userContext';\n\nimport AuthProvider from '../../providers/Auth';\nimport HomePage from '../../pages/Home';\nimport Modal from '../Modal/Modal.component';\nimport VideoDetailPage from '../../pages/VideoDetail/index';\nimport NotFound from '../../pages/NotFound';\nimport SecretPage from '../../pages/Secret';\nimport FavouritesPage from '../../pages/Favourites';\nimport Private from '../Private';\n// import Fortune from '../Fortune';\nimport Layout from '../Layout';\n// import useUser from '../../hooks/userUser';\n\nimport 'react-modern-drawer/dist/index.css';\n\nfunction App() {\n  const location = useLocation();\n  const background = location.state && location.state.background;\n  const history = useHistory();\n  const [isOpen, setIsOpen] = useState(false);\n  // const { isLogged } = useUser();\n\n  const toggleDrawer = () => {\n    setIsOpen((prevState) => !prevState);\n  };\n\n  const homePage = () => {\n    setIsOpen((prevState) => !prevState);\n    history.push('/');\n  };\n\n  const favouritePage = () => {\n    setIsOpen((prevState) => !prevState);\n    history.push('/favourites');\n  };\n\n  return (\n    <VideoProvider>\n      <UserProvider>\n        <AuthProvider>\n          <Drawer open={isOpen} onClose={toggleDrawer} direction=\"left\">\n            <div className=\"grid grid-rows-2 grid-flow-col gap-4 divide-y divide-light-gray-400\">\n              <div className=\"pt-4 pl-2\">\n                <button type=\"button\" onClick={homePage}>\n                  Home\n                </button>\n              </div>\n              <div className=\"pt-0 pl-2\">\n                <button type=\"button\" onClick={favouritePage}>\n                  Favourites\n                </button>\n              </div>\n            </div>\n          </Drawer>\n          <Layout>\n            <Switch location={background || location}>\n              <Route\n                path=\"/video\"\n                render={({ match }) => {\n                  return (\n                    <>\n                      <Route exact path={`${match.url}/`}>\n                        <HomePage toggleDrawer={toggleDrawer} isOpen={isOpen} />\n                      </Route>\n                      <Route path={`${match.url}/:id`}>\n                        <VideoDetailPage toggleDrawer={toggleDrawer} isOpen={isOpen} />\n                      </Route>\n                    </>\n                  );\n                }}\n              />\n              <Route exact path=\"/\">\n                <HomePage toggleDrawer={toggleDrawer} isOpen={isOpen} />\n              </Route>\n              <Route\n                path=\"/favourites\"\n                render={({ match }) => {\n                  return (\n                    <>\n                      <Route exact path={`${match.url}/`}>\n                        <FavouritesPage toggleDrawer={toggleDrawer} isOpen={isOpen} />\n                      </Route>\n                      <Route path={`${match.url}/:id`}>\n                        <VideoDetailPage\n                          toggleDrawer={toggleDrawer}\n                          isOpen={isOpen}\n                          isFavourite=\"true\"\n                        />\n                      </Route>\n                    </>\n                  );\n                }}\n              />\n              <Route path=\"/login\" component={Modal} />\n              <Private exact path=\"/secret\">\n                <SecretPage />\n              </Private>\n              <Route path=\"*\">\n                <NotFound />\n              </Route>\n            </Switch>\n            {background && <Route path=\"/login\" component={Modal} />}\n          </Layout>\n        </AuthProvider>\n      </UserProvider>\n    </VideoProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport App from './components/App';\nimport './global.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root', { className: 'h-full' })\n);\n"],"sourceRoot":""}